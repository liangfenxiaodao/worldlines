app = "worldlines"
primary_region = "sjc"

[env]
  DATABASE_PATH = "/data/worldlines.db"
  SOURCES_CONFIG_PATH = "/app/config/sources.json"
  LLM_MODEL = "claude-3-haiku-20240307"
  ANALYSIS_VERSION = "v1"
  DIGEST_SCHEDULE_CRON = "0 7 * * *"
  DIGEST_TIMEZONE = "Australia/Melbourne"
  STATIC_DIR = "/app/static"

[mounts]
  source = "worldlines_data"
  destination = "/data"

[processes]
  worker = "worldlines"
  web    = "worldlines-web"

[[vm]]
  size = "shared-cpu-1x"
  memory = "256mb"

[http_service]
  internal_port = 8080
  force_https = true
  auto_start_machines = true
  auto_stop_machines = false
  processes = ["web"]
